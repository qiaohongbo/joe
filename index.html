<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Joe by qiaohongbo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Joe</h1>
      <h2 class="project-tagline">MAC 10.10.3 下通过brew安装PHP环境</h2>
      <a href="https://github.com/qiaohongbo/joe" class="btn">View on GitHub</a>
      <a href="https://github.com/qiaohongbo/joe/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/qiaohongbo/joe/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h2>
<a id="mac-10103-下通过brew安装php环境" class="anchor" href="#mac-10103-%E4%B8%8B%E9%80%9A%E8%BF%87brew%E5%AE%89%E8%A3%85php%E7%8E%AF%E5%A2%83" aria-hidden="true"><span class="octicon octicon-link"></span></a>MAC 10.10.3 下通过brew安装PHP环境</h2>

<p>Brew 是 Mac 下面的包管理工具，通过 Github 托管适合 Mac 的编译配置以及 Patch，可以方便的安装开发工具</p>

<h3>
<a id="安装brew" class="anchor" href="#%E5%AE%89%E8%A3%85brew" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装brew</h3>

<pre><code>curl -LsSf http://github.com/mxcl/homebrew/tarball/master | sudo tar xvz -C/usr/local --strip 1  
</code></pre>

<h3>
<a id="查看brew是否安装成功" class="anchor" href="#%E6%9F%A5%E7%9C%8Bbrew%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F" aria-hidden="true"><span class="octicon octicon-link"></span></a>查看brew是否安装成功</h3>

<pre><code>brew -v
</code></pre>

<h3>
<a id="添加brew的php扩展库" class="anchor" href="#%E6%B7%BB%E5%8A%A0brew%E7%9A%84php%E6%89%A9%E5%B1%95%E5%BA%93" aria-hidden="true"><span class="octicon octicon-link"></span></a>添加brew的PHP扩展库</h3>

<pre><code>sudo brew update
brew tap homebrew/dupes
brew tap homebrew/php
brew tap josegonzalez/homebrew-php
</code></pre>

<h3>
<a id="使用brew-options-php55命令查看安装时可以有哪些选项" class="anchor" href="#%E4%BD%BF%E7%94%A8brew-options-php55%E5%91%BD%E4%BB%A4%E6%9F%A5%E7%9C%8B%E5%AE%89%E8%A3%85%E6%97%B6%E5%8F%AF%E4%BB%A5%E6%9C%89%E5%93%AA%E4%BA%9B%E9%80%89%E9%A1%B9" aria-hidden="true"><span class="octicon octicon-link"></span></a>使用brew options php55命令查看安装时可以有哪些选项</h3>

<pre><code>$ brew options php55
--with-cgi
    Enable building of the CGI executable (implies --without-fpm)
--with-debug
    Compile with debugging symbols
--with-enchant
    Build with enchant support
--with-gmp
    Build with gmp support
--with-homebrew-apxs
    Build against apxs in Homebrew prefix
--with-homebrew-curl
    Include Curl support via Homebrew
--with-homebrew-libxml2
    Include Libxml2 support via Homebrew
--with-homebrew-libxslt
    Include LibXSLT support via Homebrew
--with-imap
    Include IMAP extension
--with-libmysql
    Include (old-style) libmysql support instead of mysqlnd
--with-mssql
    Include MSSQL-DB support
--with-pdo-oci
    Include Oracle databases (requries ORACLE_HOME be set)
--with-phpdbg
    Enable building of the phpdbg SAPI executable (PHP 5.4 and above)
--with-postgresql
    Build with postgresql support
--with-snmp
    Build with SNMP support
--with-thread-safety
    Build with thread safety
--with-tidy
    Include Tidy support
--without-apache
    Disable building of shared Apache 2.0 Handler module
--without-bz2
    Build without bz2 support
--without-fpm
    Disable building of the fpm SAPI executable
--without-ldap
    Build without LDAP support
--without-mysql
    Remove MySQL/MariaDB support
--without-pcntl
    Build without Process Control support
--without-pear
    Build without PEAR
--HEAD
    Install HEAD version
</code></pre>

<h3>
<a id="安装php55" class="anchor" href="#%E5%AE%89%E8%A3%85php55" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装php55</h3>

<pre><code>sudo brew install homebrew/php/php55
</code></pre>

<h3>
<a id="安装php55扩展" class="anchor" href="#%E5%AE%89%E8%A3%85php55%E6%89%A9%E5%B1%95" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装php55扩展</h3>

<pre><code>sudo brew install php55-mcrypt        # mcrypt扩展
sudo brew install php55-redis         # redis扩展 
sudo brew install php55-mysqlnd_ms    # mysql扩展
</code></pre>

<h3>
<a id="如果安装扩展时出现下面的错误提示" class="anchor" href="#%E5%A6%82%E6%9E%9C%E5%AE%89%E8%A3%85%E6%89%A9%E5%B1%95%E6%97%B6%E5%87%BA%E7%8E%B0%E4%B8%8B%E9%9D%A2%E7%9A%84%E9%94%99%E8%AF%AF%E6%8F%90%E7%A4%BA" aria-hidden="true"><span class="octicon octicon-link"></span></a>如果安装扩展时出现下面的错误提示</h3>

<pre><code>错误提示:
    Error: Formulae found in multiple taps:
        * homebrew/php/php55-mcrypt
        * josegonzalez/php/php55-mcrypt

    Please use the fully-qualified name e.g. homebrew/php/php55-mcrypt to refer the formula.

解决方法: 
    sudo brew untap josegonzalez/homebrew-php
</code></pre>

<h3>
<a id="配置phpini" class="anchor" href="#%E9%85%8D%E7%BD%AEphpini" aria-hidden="true"><span class="octicon octicon-link"></span></a>配置php.ini</h3>

<pre><code>sudo vim /usr/local/etc/php/5.5/php.ini

添加下面三行代码: 
    extension=redis.so
    extension=mcrypt.so
    extension=mysql.so
</code></pre>

<h3>
<a id="安装mysql" class="anchor" href="#%E5%AE%89%E8%A3%85mysql" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装MySQL</h3>

<pre><code>sudo brew install mysql
</code></pre>

<h3>
<a id="启动mysql" class="anchor" href="#%E5%90%AF%E5%8A%A8mysql" aria-hidden="true"><span class="octicon octicon-link"></span></a>启动MySQL</h3>

<pre><code>sudo mysql.server start
如果提示下面错误:
    Starting MySQL
    . ERROR! The server quit without updating PID file (/usr/local/var/mysql/*.local.pid).
解决方法
    sudo chown -R _mysql:_mysql /usr/local/var/mysql
</code></pre>

<h3>
<a id="安装redis" class="anchor" href="#%E5%AE%89%E8%A3%85redis" aria-hidden="true"><span class="octicon octicon-link"></span></a>安装Redis</h3>

<pre><code>sudo brew install redis
</code></pre>

<h3>
<a id="配置redis并后台运行" class="anchor" href="#%E9%85%8D%E7%BD%AEredis%E5%B9%B6%E5%90%8E%E5%8F%B0%E8%BF%90%E8%A1%8C" aria-hidden="true"><span class="octicon octicon-link"></span></a>配置Redis并后台运行</h3>

<pre><code>配置redis:
    sudo vim /usr/local/etc/redis.conf
        daemonize yes            # yes 以后台程序运行
启动redis:
    redis-server /usr/local/etc/redis.conf      
</code></pre>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/qiaohongbo/joe">Joe</a> is maintained by <a href="https://github.com/qiaohongbo">qiaohongbo</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

